## 目的

以下サイトのpython編の第２段についてトライアルする。

[ROS講座55 pythonでrosbagを解析・可視化する #Python - Qiita](https://qiita.com/srs/items/4d19a749891728c8520a)

## 概要

### rosbag

ROS（Robot Operating System）で使われる **データ記録・再生ツール** です。

ROSで動作するブラックボックスレコーダのこと。

#### 機能

ROSでは、ロボットやセンサーが発行するデータは「トピック」というストリームで流れます。

`rosbag` はそのトピックデータを **時系列ごとに丸ごと保存** して、あとで再生できます。

#### 用途

* **デバッグ**

  * 実機ロボットで得られたセンサーデータを保存し、後でオフィスPCで解析
* **再現実験**

  * 本番環境と同じデータを使って、アルゴリズムを何度でもテスト
* **シミュレーションとの連携**

  * 実機のデータをシミュレーション環境に流し込み、動作検証

#### 基本コマンド

記録

`/camera/image_raw` と `/scan` トピックを記録

```shell
rosbag record /camera/image_raw /scan
```

再生

保存された `.bag` ファイルの内容を、当時のタイミングで再現

```shell
rosbag play data.bag
```

#### 特徴

* 保存形式は `.bag` ファイル（バイナリ形式）
* メッセージの**送信タイミングも保存**するので、リアルタイムの挙動再現が可能
* 必要なトピックだけ選んで記録可能
* 大きなデータ（画像やLiDAR）もまとめて保存できるが、ファイルが巨大になりやすい

#### 注意点

* 記録中はストレージとCPU負荷が増える
* 長時間の記録は数GB〜数十GBになることもある
* ROS 1 と ROS 2 で `rosbag` の実装が異なり、互換性がない（ROS 2では `ros2 bag`）
